#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” push ì „ì— ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤."
npx tsc --noEmit || { echo "âŒ Type ì—ëŸ¬(push ì¤‘ë‹¨ë¨)"; exit 1; }

# Cypress í…ŒìŠ¤íŠ¸ (TDD)
# echo "ğŸš€ dev ì„œë²„ ì‹¤í–‰ ì¤‘..."
# npm run dev &
# npx wait-on http://localhost:3000
# npx cypress run || { echo "âŒ Cypress í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨(push ì¤‘ë‹¨ë¨)"; kill $!; exit 1; }
# kill $!

echo "âœ… pushë¥¼ ìœ„í•œ ëª¨ë“  ê²€ì‚¬ë¥¼ í†µê³¼í–ˆìŠµë‹ˆë‹¤. ğŸš€"