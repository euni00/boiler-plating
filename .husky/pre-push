#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "π” ν‘Έμ‹ μ „μ— μ½”λ“ ν’μ§ κ²€μ‚¬λ¥Ό μ‹μ‘ν•©λ‹λ‹¤."

npm run lint || { echo "β Lint μ—λ¬(push μ¤‘λ‹¨λ¨)"; exit 1; }
npx tsc --noEmit || { echo "β Type μ—λ¬(push μ¤‘λ‹¨λ¨)"; exit 1; }

# Cypress μ„Έν… μ „
# echo "π€ dev μ„λ²„ μ‹¤ν–‰ μ¤‘..."
# npm run dev &
# npx wait-on http://localhost:3000
# npx cypress run || { echo "β Cypress ν…μ¤νΈ μ‹¤ν¨(push μ¤‘λ‹¨λ¨)"; kill $!; exit 1; }
# kill $!

echo "β… pushλ¥Ό μ„ν• λ¨λ“  κ²€μ‚¬λ¥Ό ν†µκ³Όν–μµλ‹λ‹¤. π€"